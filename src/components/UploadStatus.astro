---
const uploadStatus = Astro.url.searchParams.get("upload");
let visible = true;
function closeStatus() {
  visible = false;
}
---

{
  visible && uploadStatus === "success" && (
    <div class="relative pointer-events-auto mb-4 px-4 py-2 rounded bg-green-100 text-green-800 border border-green-300 flex items-center gap-2 shadow">
      <span>File uploaded successfully!</span>
      <button
        type="button"
        class="ml-2 text-green-800 hover:text-green-900 text-lg font-bold"
        aria-label="Close"
        onclick="visible = false">
        &times;
      </button>
    </div>
  )
}
{
  visible && uploadStatus === "error" && (
    <div class="relative pointer-events-auto mb-4 px-4 py-2 rounded bg-red-100 text-red-800 border border-red-300 flex items-center gap-2 shadow">
      <span>Failed to upload file.</span>
      <button
        type="button"
        class="ml-2 text-red-800 hover:text-red-900 text-lg font-bold"
        aria-label="Close"
        onclick="visible = false">
        &times;
      </button>
    </div>
  )
}
